<!DOCTYPE html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Functional Javascript - Design Patterns</title>
	<meta name="viewport" content="width=1024, user-scalable=no">
	
	<!-- Core and extension CSS files -->
	<link rel="stylesheet" href="../lib/deck/css/deck.core.css">
	<link rel="stylesheet" href="../lib/deck/css/deck.goto.css">
	<link rel="stylesheet" href="../lib/deck/css/deck.menu.css">
	<link rel="stylesheet" href="../lib/deck/css/deck.navigation.css">
	<link rel="stylesheet" href="../lib/deck/css/deck.status.css">
	<link rel="stylesheet" href="../lib/deck/css/deck.hash.css">

	<!-- include code mirror default css and the theme you want. -->
	<link rel="stylesheet" href="../lib/deck/css/deck.codemirror.css">
	<link rel="stylesheet" href="./themes/default.css">

	<!-- Theme CSS files (menu swaps these out) -->
	<link rel="stylesheet" id="transition-theme-link" href="./css/horizontal-slide.css">
	<link rel="stylesheet" href="./css/main.css">	
	
	<script src="./js/modernizr.custom.js"></script>
</head>

<body>
	<article class="deck-container">
    <section class="slide" id="codemirror-intro">
      <h1> Functional Javascript Design Patterns </h1>
    </section>

    <section class="slide" id="textarea-code">
      <h2>JavaScript Overview</h2>
       <ul>
        <li><h3>Objects</h3></li>
        <li><h3>Functions</h3></li>
        <li><h3>Closures</h3></li>
        <li><h3>Prototypes</h3></li>
      </ul>
    </section>

    <section class="slide" id="textarea-code">
      <h2>JavaScript Overview - Objects</h2>
      <h4>In JavaScript, almost everything is an object.</br>
       Even primitive types, except null and undefined, are treated as objects.</h4></br>
      <table style="width: 400px;">
         <tr>
           <td>
            <h4>Primitive values</h4>
            <ul>
              <li><h4>Number</h4></li>
              <li><h4>String</h4></li>
              <li><h4>Boolean</h4></li>
              <li><h4>Null</h4></li>
              <li><h4>Undefined</h4></li>
            </ul>
           </td>
           <td>
            <h4>Objects</h4>
            <ul>
              <li><h4>Date</h4></li>
              <li><h4>Math</h4></li>
              <li><h4>Array</h4></li>
              <li><h4>Function</h4></li>
            </ul>
           </td>
         </tr>
       </table> 
    </section>

    <section class="slide" id="textarea-code">
      <h2>JavaScript Overview - Functions</h2>
      <h4>is a set of statements that performs a task or calculates a value.
      A function definition (declaration) consists of the function keyword, followed by:</h4>
      <ul>
        <li><h4>The name of the function</h4></li>
        <li><h4>List of arguments to the function, enclosed in parentheses and separated by commas</h4></li>
        <li><h4>Statements that define the function, enclosed in curly brackets, { }</h4></li>
      </ul>
      <div>
        <textarea id="code" name="code" class="code" mode="javascript" style="display: none;" runnable="true">
var greet = function(name) {
  return "Hello there " + name;
}
var result = greet("Joe!");
console.log(result); 
        </textarea>
      </div>
    </section>

    <section class="slide" id="textarea-code">
      <h2>JavaScript Overview - Closures</h2>
      <h4>JavaScript allows for the nesting of functions and grants the inner function full access to all the variables and functions defined inside the outer function. However, the outer function does not have access to the variables and functions defined inside the inner function.
      </h4></br>
      <div>
        <textarea id="code" name="code" class="code" mode="javascript" style="display: none;" runnable="true">
var pet = function(name) {          // The outer function defines a variable called "name"
      var getName = function() {
        return name;                // The inner function has access to the "name" variable of the outer function
      }

      return getName;               // Return the inner function, thereby exposing it to outer scopes
    },
    myPet = pet("Vivie");
    
myPet();                            // Returns "Vivie"
        </textarea>
      </div>
    </section>

    <section class="slide" id="textarea-code">
      <h2>JavaScript Overview - Prototypes</h2>
      <h4>Javascript is dynamic, all runtime, and it has no classes at all. It's all just instances (objects). All objects in JavaScript are descended from Object; all objects inherit methods and properties from Object.prototype, although they may be overridden (except an Object with a null prototype, i.e. Object.create(null)). For example, other constructors' prototypes override the constructor property and provide their own toString() methods. Changes to the Object prototype object are propagated to all objects unless the properties and methods subject to those changes are overridden further along the prototype chain
      That prototype object has a prototype of its own, and so on until an object is reached with null as its prototype. null, by definition, has no prototype, and acts as the final link in this prototype chain.
      </h4></br>
      <div>
        <textarea id="code" name="code" class="code" mode="javascript" style="display: none;" runnable="true">
var Person = function() {
    this.canTalk = true;
    this.greet = function() {
        if (this.canTalk) {
            console.log("Hi, I'm " + this.name);
        }
    };
};

var Employee = function(name, title) {
    this.name = name;
    this.title = title;
    this.greet = function() {
        if (this.canTalk) {
            console.log("Hi, I'm " + this.name + ", the " + this.title);
        }
    };
};
Employee.prototype = new Person();

var Customer = function(name) {
    this.name = name;
};
Customer.prototype = new Person();

var Mime = function(name) {
    this.name = name;
    this.canTalk = false;
};
Mime.prototype = new Person();

var bob = new Employee('Bob','Builder');
var joe = new Customer('Joe');
var rg = new Employee('Red Green','Handyman');
var mike = new Customer('Mike');
var mime = new Mime('Mime');
bob.greet();
joe.greet();
rg.greet();
mike.greet();
mime.greet();
        </textarea>
      </div>
    </section>

    <section class="slide" id="textarea-code">
      <h2> Functional Javascript Design Patterns </h2>
      <h3> Functional Programming Overview</h3>
      <p>
        "Functional programming isn't the goal. The goal is to simplify the complicated."
      </p>
      <ul>
        <li><h4>Less code</h4></li>
        <li><h4>Fewer errors</h4></li>
        <li><h4>Easy concurrency</h4></li>
        <li><h4>Testability</h4></li>
      </ul></br>
      <h3>but...</h3>
    </section>

    <section class="slide" id="textarea-code">
      <h2> Functional Javascript Design Patterns </h2>
      <img src="./img/no-thanks-were-too-busy.jpg" />
    </section>

		<section class="slide" id="textarea-code">
			<h2> What is a pure function? </h2>
      <img src="./img/Function-as-a-box.jpg" />
			<div>
        <textarea id="code" name="code" class="code" mode="javascript" style="display: none;" runnable="true">
var f = function(name) {
  return "Hello there " + name;
}
console.log(f("Joe!"));
        </textarea>
      </div>
      <ul>
        <li><h4>Same input, same ouput</h4></li>
        <li><h4>No side effects</h4></li>
      </ul>
		</section>

    <section class="slide" id="textarea-code">
      <h2> Functional Javascript Design Patterns </h2>
      <h3> What is functional programming</h3>
      <ul>
        <li><h4>No Side Effects</h4>
        A function should do one thing. Any function that does something other than its single intended purpose is said to have side effects. In pure functional programming languages side effects are not allowed, but this is JavaScript and everything is fair game and must be enforced with conventions</p>
        </li>
        <li><h4>Referential Transparency</h4>
        Referential transparency is the ability of code to be evaluated in a predictable manner, not influenced by external state. Code that has achieved referential transparency is only affected by arguments that are passed to it, and changing state in the application has no effect. That same code should always output the same value for a given set of arguments, and only changing those arguments can a value be different. </li>
        <li><h4>Immutability</h4> 
        Immutability, or the inability for variables to changes their values once created. In other words, all things created should strive to be constants. In JavaScript there is no internal mechanism to enforce this as there is in pure functional programming languages like Haskell and friends. JavaScript is dynamic and without strict typing, and so keeping variables immutable in a codebase is merely a convention</li>
        <li><h4>Higher Order Functions</h4> 
        A higher-order function is a function that can accept functions as arguments, and/or can return a function.</li>
      </ul>
    </section>









		<section class="slide" id="textarea-spec">
			<h2> That code was created with a text area that had the following attributes: </h2>
			<ul>
				<li>class - "code"</li>
				<li>mode  - "javascript"</li>
				<li>runnable - "true" </li>
			</ul>
			<h3> The rest just HAPPENS </h3>
			<p> Code blocks aren't runnable by default. Because you might want to put crazy non runnable code in there. Like, html. </p>
			<p> You can specify a codemirror theme as long as you include the stylesheet for it by setting the <i>theme</i> attribute </p>
		</section>

		<section class="slide" id="div-code">
			<h2> This Code is in a div! </h2>
			<div>
				<div id="code" name="code" class="code" mode="javascript" style="display: none;">
          var obj = { text : "Hello all!"};
          console.log("HI THERE");
        </div>
			</div>
			</br>
			<p>
				It looks like this: <br />
				<code>
&lt;div id=&quot;code&quot; class=&quot;code&quot; name=&quot;code&quot; mode=&quot;javascript&quot; style=&quot;display: none;&quot;&gt;
<br>// codemirror demo party!
<br>var obj = { text : &quot;Hello all!&quot;};
<br>console.log(&quot;HI THERE&quot;);
<br>&lt;/div&gt;
				</code>
			</p>
		</section>

		<section class="slide" id="textarea-code">
			<h2> HTML Syntax?! Sweet. </h2>
			<p>
			  Note that it's defined by being put inside a textarea, that way it doesn't
			  get evaluated. Replicate that however you see fit.
			  Also, set the mode="text/html", not just "html".
			</p>
			<div>
		  	<textarea type="text/html" class="code" mode="text/html" style="display: none;">// codemirror demo party!
          <html style="color: green">
            <!-- this is a comment -->
            <head>
              <title>Mixed HTML Example</title>
              <style type="text/css">
                h1 {font-family: comic sans; color: #f0f;}
                div {background: yellow !important;}
                body {
                  max-width: 50em;
                  margin: 1em 2em 1em 5em;
                }
              </style>
            </head>
            <body>
              <h1>Mixed HTML Example</h1>
              <script>
                function jsFunc(arg1, arg2) {
                  if (arg1 && arg2) document.body.innerHTML = "achoo";
                }
              </script>
            </body>
          </html>
        </textarea>
      </div>
		</section>
    		
		<section class="slide" id="textarea-code">
			<h2> Two runnable code blocks?! CRAZY! </h2>
			<h3> First </h3>
			<div><textarea id="code2" name="code" class="code" mode="javascript" style="display: none;" runnable="true">// codemirror demo party!
console.log(1);</textarea></div>
			<h3> Second </h3>
			<div><textarea id="code3" name="code" class="code" mode="javascript" style="display: none;" runnable="true">// codemirror demo party!
console.log(2);</textarea></div>
		</section>

    <section class="slide" id="hidden-script-tags">
			<h2> Need to run some setup for your codes? </h2>
			<h3> Embed a secret hidden script tag like so in your slide: </h3>
			
			<script type="codemirror" data-selector="#code4">
			  var someVar = 10;
			</script>
			
      <code>
&lt;script type=&quot;codemirror&quot; data-selector=&quot;#code3&quot;&gt;<br/>
  var someVar = 10;<br/>
&lt;/script&gt;<br/>
  		</code>
  		
  		<h3> Then your code </h3>
			<div><textarea id="code4" name="code" class="code" mode="javascript" style="display: none;" runnable="true">// output my log
console.log(someVar);</textarea></div>
    </section>
    
    <section class="slide" id="cleanup-script-tags">
			<h2> Need to run some cleanup for your codes? </h2>
			<h3> Embed a secret hidden cleanup script tag like so in your slide: </h3>
			
			<script type="codemirror/cleanup" data-selector="#code4">
			  someVar = 12;
			  console.log(someVar);
			</script>
			
      <code>
&lt;script type=&quot;codemirror/cleanup&quot; data-selector=&quot;#code3&quot;&gt;<br/>
  someVar = 12;
  console.log(someVar);<br/>
&lt;/script&gt;<br/>
  		</code>
  		
  		<h3> Then your code </h3>
			<div><textarea id="code4" name="code" class="code" mode="javascript" style="display: none;" runnable="true">
// set some initial value
var someVar = 15;
</textarea></div>
    </section>

    <section class="slide" id="globals">
			<h2> Sometimes you need some globals </h2>
			<p> 
			  Sometimes you just need to access a global of some kind. The code in the codemirror 
			  editors is executed in a sandbox, which means whatever it is you load in your actual 
			  slides, is NOT going to be available by default.
			</p>
			<p>
        To give access to, for example, jQuery object, define a "globals" attribute on the code blocks with 
        the names of the vars you need.
      </p>
      
      <code>
&lt;textarea id=&quot;code4&quot; name=&quot;code&quot; class=&quot;code&quot; mode=&quot;javascript&quot; style=&quot;display: none;&quot; runnable=&quot;true&quot; globals=&quot;$&quot;&gt;<br />  // output my log
  console.log($(&#39;script&#39;).size());<br />&lt;/textarea&gt;<br />
      </code>
      <textarea id="code4" name="code" class="code" mode="javascript" style="display: none;" runnable="true" globals="$">// output my log
console.log($('script').size());</textarea>
		</section>
		
		<section class="slide" id="info">
			<h2> Repo: </h2>
			<a href="https://github.com/iros/deck.js-codemirror">https://github.com/iros/deck.js-codemirror</a>
			<h3> By: </h3>
			Irene Ros <br />
			<a href="http://ireneros.com">http://ireneros.com</a> <br />
			<a href="http://twitter.com/ireneros">@ireneros</a>
		</section>

		<a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
		<a href="#" class="deck-next-link" title="Next">&#8594;</a>

		<p class="deck-status">
			<span class="deck-status-current"></span>
			/
			<span class="deck-status-total"></span>
		</p>

		<form action="." method="get" class="goto-form">
			<label for="goto-slide">Go to slide:</label>
			<input type="number" name="slidenum" id="goto-slide">
			<input type="submit" value="Go">
		</form>

		<a href="." title="Permalink to this slide" class="deck-permalink">#</a>
	</article>

	<script src="../lib/jquery-1.6.1.js"></script>

	<!-- Deck Core and extensions -->
	<script src="../lib/deck/js/deck.core.js"></script>
	<script src="../lib/deck/js/deck.menu.js"></script>
	<script src="../lib/deck/js/deck.goto.js"></script>
	<script src="../lib/deck/js/deck.status.js"></script>
	<script src="../lib/deck/js/deck.navigation.js"></script>
	<script src="../lib/deck/js/deck.hash.js"></script>
  
  <!-- include the base codemirror code. -->
  <script src="../lib/codemirror.js"></script>
	
	<!-- include the code syntax you want to highlight -->
  <script src="./mode/javascript/javascript.js"></script>

  <!-- html mode : note code miror requires xml, css and javasript modes for html rendering -->
  <script src="./mode/xml/xml.js"></script>
  <script src="./mode/css/css.js"></script>
  <script src="./mode/htmlmixed/htmlmixed.js"></script>
  <script src="../lib/deck/js/deck.codemirror.js"></script>
		
	<!-- Stuff specific to this page -->
	<script src="./js/main.js"></script>

</body>
</html>
