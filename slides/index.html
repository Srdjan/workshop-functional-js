<!DOCTYPE html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Functional Javascript - Design Patterns</title>
	<meta name="viewport" content="width=1024, user-scalable=no">
	
	<!-- Core and extension CSS files -->
	<link rel="stylesheet" href="../lib/deck/css/deck.core.css">
	<link rel="stylesheet" href="../lib/deck/css/deck.goto.css">
	<link rel="stylesheet" href="../lib/deck/css/deck.menu.css">
	<link rel="stylesheet" href="../lib/deck/css/deck.navigation.css">
	<link rel="stylesheet" href="../lib/deck/css/deck.status.css">
	<link rel="stylesheet" href="../lib/deck/css/deck.hash.css">

	<!-- include code mirror default css and the theme you want. -->
	<link rel="stylesheet" href="../lib/deck/css/deck.codemirror.css">
	<link rel="stylesheet" href="./themes/default.css">

	<!-- Theme CSS files (menu swaps these out) -->
	<link rel="stylesheet" id="transition-theme-link" href="./css/horizontal-slide.css">
  <link rel="stylesheet" href="./css/main.css"> 
	
  <!-- http://www.zerotheme.com/zerogrid-a-simple-grid-system-for-responsive-design-->
  <link rel="stylesheet" href="./css/zerogrid.css">	
	
	<script src="./js/modernizr.custom.js"></script>
</head>

<body>
	<article class="deck-container">
    <section class="slide" id="codemirror-intro">
      <h1> Functional Javascript Design Patterns </h1>
    </section>

    <section class="slide" id="textarea-code">
      <h2>JavaScript Overview</h2>
      </br></br>
       <ul>
        <li><h3>Type System</h3></li>
        <li><h3>Objects</h3></li>
        <li><h3>Functions</h3></li>
        <li><h3>Closures</h3></li>
        <li><h3>Prototypes</h3></li>
      </ul>
    </section>

    <section class="slide" id="textarea-code">
      <h2>JavaScript Overview - Type System</h2>
      <h3>Javascript has dynamic and loosly typed type system.</br>
       In JavaScript, almost everything is an object.</br>
       Even primitive types, except null and undefined, are treated as objects.
      </h3></br>
      <div class="zerogrid">
        <div class="row">
        <div class="col-1-3">
          <div class="wrap-col">
            <ul>
              <li><h4>Number</h4></li>
              <li><h4>String</h4></li>
              <li><h4>Boolean</h4></li>
              <li><h4>Object</h4></li>
              <ul>
                <li><h4>Function</h4></li>
                <li><h4>Array</h4></li>
                <li><h4>Date</h4></li>
                <li><h4>Math</h4></li>
                <li><h4>RegExp</h4></li>
              </ul>
              <li><h4>Null</h4></li>
              <li><h4>Undefined</h4></li>
            </ul>
          </div>
        </div>
        <div class="col-2-3">
          <div class="wrap-col">
            </br></br></br>
            <img src="./img/javascript-type-relationships.png" alt="http://vijayan.ca/blog/2012/02/21/javascript-type-model/">
          </div>
        </div>
        </div>
      </div>
    </section>

    <section class="slide" id="textarea-code">
      <h2>JavaScript Overview - Objects</h2>
      <h3>JavaScript objects can be thought of as simple collections of name-value pairs, similar to dictionaries.</br>
        The "name" part is a JavaScript string, while the value can be any JavaScript value â€” including more objects.</br>
        This allows you to build data structures of arbitrary complexity.
      </h3>
      </br>
      <div>
        <textarea id="code" name="code" class="code" mode="javascript" style="display: none;" runnable="true">
function logArrayElements(element, index, array) {
    console.log("a[" + index + "] = " + element);
}

var props = Object.getOwnPropertyNames(Object.prototype);
props.forEach(logArrayElements);  
        </textarea>
      </div>
     </section>

    <section class="slide" id="textarea-code">
      <h2>JavaScript Overview - Functions</h2>
      <h3>In JavaScript every function is actually a Function object and is used to perform a task or calculates a value.</h3></br>
      <ul><h3>Function object has the following properties:</h3>
        <li><h4>arguments -- An Array/object containing the arguments passed to the function</h4></li>
        <ul>
          <li><h4>arguments.length -- Stores the number of arguments in the array</h4></li>
          <li><h4>arguments.callee -- Pointer to the executing function (allows anonymous functions to recurse)</h4></li>
        </ul>
        <li><h4>length -- The number of arguments the function was expecting myFunc(x,y) = 2</h4></li>
        <li><h4>constructor -- function pointer to the constructor function</h4></li>
        <li><h4>prototype -- allows the creation of prototyes</h4></li>
      </ul>
      <ul><h3>Every function has the following methods:</h3>
        <li><h4>apply -- A method that lets you more easilly pass function arguments</h4></li>
        <li><h4>call -- Allows you to call a function within a different context</h4></li>
        <li><h4>bind -- creates a new function that, when called, has its 'this' set to the provided value, with a given sequence of arguments preceding any provided when the new function is called</h4></li>
        <li><h4>toString -- Returns the source of the function as a string</h4></li>
        <li><h4>*toSource -- Returns the source of the function as a string</h4></li>
      </ul>
      <div>
        <textarea id="code" name="code" class="code" mode="javascript" style="display: none;" runnable="true">
function logArrayElements(element, index, array) {
    console.log("a[" + index + "] = " + element);
}

var props = Object.getOwnPropertyNames(Function.prototype);
props.forEach(logArrayElements);  

        </textarea>
      </div>
    </section>

    <section class="slide" id="textarea-code">
      <h2>JavaScript Overview - Functions</h2>
      <h3>A function definition (declaration) consists of the function keyword, followed by:</h3>
      <ul>
        <li><h4>The name of the function (optional)</h4></li>
        <li><h4>List of arguments to the function, enclosed in parentheses and separated by commas</h4></li>
        <li><h4>Statements that define the function, enclosed in curly brackets, { }</h4></li>
      </ul>
      <div>
        <textarea id="code" name="code" class="code" mode="javascript" style="display: none;" runnable="true">
var add = function(a, b) {
  return a + b;
}
var result = add(1, 3);
console.log(result); 
        </textarea>
      </div>
    </section>

    <section class="slide" id="textarea-code">
      <h2>JavaScript Overview - Closures</h2>
      <h3>JavaScript allows for the nesting of functions and grants the inner function full access to all the variables and functions defined in the outer function.</br> However, the outer function does not have access to the variables and functions defined inside the inner function.
      </h3>
      </br>
      <div>
        <textarea id="code" name="code" class="code" mode="javascript" style="display: none;" runnable="true">
var pet = function(name) {          // The outer function defines a variable called "name"
      var getName = function() {
        return name;                // The inner function has access to the "name" variable of the outer function
      }

      return getName;               // Return the inner function, thereby exposing it to outer scopes
    },
    myPet = pet("Vivie");
    
myPet();                            // Returns "Vivie"
        </textarea>
      </div>
    </section>

    <section class="slide" id="textarea-code">
      <h2>JavaScript Overview - Prototypes</h2>
      <!-- <h3>Javascript is dynamic and it has no classes at all, it's all just instances (objects).</br> -->
      <h3>All objects in JavaScript are descended from Object nad they inherit methods and properties from Object.prototype, although they may be overridden.</h3>
      </br></br>
      <ul>
        <li><h4>JavaScript does not feature a classical inheritance model; it uses a prototypal one.</h4></li>
        <li><h4>Inheritance in JavaScript uses prototype chains</h4></li>
        <li><h4>null, by definition, has no prototype, and acts as the final link in this prototype chain</h4></li>
        <li><h4>hasOwnProperty is the only thing in JavaScript which deals with properties and does not traverse the prototype chain</h4></li>
      </ul>
      <img src="./img/prototype-chain.png" alt="http://yehudakatz.com/2011/08/12/understanding-prototypes-in-javascript/">
    </section>

    <section class="slide" id="textarea-code">
      <h2>JavaScript Overview - Prototypes - example</h2>
      <div>
        <textarea id="code" name="code" class="code" mode="javascript" style="display: none;" runnable="true">
var Person = function() {
    this.canTalk = true;
    this.greet = function() {
        if (this.canTalk) {
            console.log("Hi, I'm " + this.name);
        }
    };
};

var Employee = function(name, title) {
    this.name = name;
    this.title = title;
    this.greet = function() {
        if (this.canTalk) {
            console.log("Hi, I'm " + this.name + ", the " + this.title);
        }
    };
};
Employee.prototype = new Person();

var Mime = function(name) {
    this.name = name;
    this.canTalk = false;
};
Mime.prototype = new Person();

var bob = new Employee('Bob','Builder');
bob.greet();
var mime = new Mime('Mime');
mime.greet();
        </textarea>
      </div>
    </section>

    <section class="slide" id="textarea-code">
      <h2>Functional Programming Overview</h2>
      </br></br>
       <ul>
        <li><h3>What is functional programming?</h3></li>
        <li><h3>Why Functional?</h3></li>
        <li><h3>JavaScript and Functional programming</h3></li>
      </ul>
    </section>

    <section class="slide" id="textarea-code">
      <h2> What is functional programming</h2>
      <ul>
        <li>
        <h3>No Side Effects</h3>
          <h4>A function should do one thing. Any function that does something other than its single intended purpose is said to have side effects. In pure functional programming languages side effects are not allowed, but in JavaScript there are no such guarantees.</h4>
        </li>
        <li>
        <h3>Referential Transparency</h3>
          <h4>Ability of code to be evaluated in a predictable manner, not influenced by external state. That same code should always output the same value for a given set of arguments, and only changing those arguments can a output value be different.</h4>
        </li>
        <li>
        <h3>Immutability</h3> 
          <h4>Immutability, or the inability for variables to changes their values once created. In other words, all things created should strive to be constants. In JavaScript there is no internal mechanism to enforce this as there is in pure functional programming languages like Haskell and friends. JavaScript is dynamic and without strict typing, and so keeping variables immutable in a codebase is merely a convention.</h4>
        </li>
        <li>
        <h3>Higher Order Functions</h3> 
          <h4>A higher-order function is a function that can accept functions as arguments, and/or can return a function.</h4>
        </li>
      </ul>
    </section>

    <section class="slide" id="textarea-code">
      <h2>Why Functional?</h2>
      <h3>"Functional programming isn't the goal. The goal is to simplify the complicated."</h3>
      </br>
      <ul><h3>Motiviation:</h3>
        <li><h4>Write less code</h4></li>
        <li><h4>Fewer errors</h4></li>
        <li><h4>Easy concurrency</h4></li>
        <li><h4>Testability</h4></li>
      </ul></br></br>
      <h3>but...</h3>
    </section>

    <section class="slide" id="textarea-code">
      <h2>Don't be too busy... It is worth it :)</h2>
      <img src="./img/no-thanks-were-too-busy.jpg" />
    </section>

    <section class="slide" id="textarea-spec">
      <h2>JavaScript and Functional programming</h2>
      <h3>It is a cross paradigm language, allowing a variety of different programming paradigms: OO, functional, procedural</h3>
      <h3>Javascript is not pure functional programming, but it allows one to program in a functional way.</h3>
      <ul><h3>Supported:</h3>
        <li><h4>Functions are "first-class" objects</li></h4>
        <li><h4>Functions can accept function as argumrnt and return function</li></h4>
        <li><h4>Anonymous functions</li></h4>
        <li><h4>Closuress</li></h4>
      </ul>
      <ul><h3>Not directly supported:</h3>
        <li><h4>Pure functions</li></h4>
        <li><h4>Immutability</li></h4>
        <li><h4>Mandatory function result return (implicitly returns 'undefined' if missing return statements)</li></h4>
        <li><h4>Tail recursive functions</li></h4>
      </ul>
    </section>

    <section class="slide" id="textarea-code">
      <h2>Pure function</h2>
      <img src="./img/Function-as-a-box.jpg" />
      <div>
        <textarea id="code" name="code" class="code" mode="javascript" style="display: none;" runnable="true">
var f = function(name) {
  return "Hello there " + name;
}
console.log(f("Joe!"));
        </textarea>
      </div>
      <ul>
        <li><h4>Same input, same ouput</h4></li>
        <li><h4>No side effects</h4></li>
      </ul>
    </section>


 

    <section class="slide" id="textarea-code">
      <h2>Credits and resources</h2>
      <h3>Inspired by the work of many other people I have learned from</h3>
      </br>
      <ul><h3>Motiviation:</h3>
        <li><h4>Brian Lansdorf: Hey Underscore, You're doing it wrong</h4></li>
        <li><h4>Functional JavaScript by Oliver Steele</h4></li>
        <li><h4>Reginald Braithwaite and allong.es</h4></li>
        <li><h4>...</h4></li>
      </ul></br></br>
      <h3>Thank you!</h3>
    </section>
<!-- 
		<section class="slide" id="textarea-spec">
			<h2> That code was created with a text area that had the following attributes: </h2>
			<ul>
				<li>class - "code"</li>
				<li>mode  - "javascript"</li>
				<li>runnable - "true" </li>
			</ul>
			<h3> The rest just HAPPENS </h3>
			<p> Code blocks aren't runnable by default. Because you might want to put crazy non runnable code in there. Like, html. </p>
			<p> You can specify a codemirror theme as long as you include the stylesheet for it by setting the <i>theme</i> attribute </p>
		</section>

		<section class="slide" id="div-code">
			<h2> This Code is in a div! </h2>
			<div>
				<div id="code" name="code" class="code" mode="javascript" style="display: none;">
          var obj = { text : "Hello all!"};
          console.log("HI THERE");
        </div>
			</div>
			</br>
			<p>
				It looks like this: <br />
				<code>
&lt;div id=&quot;code&quot; class=&quot;code&quot; name=&quot;code&quot; mode=&quot;javascript&quot; style=&quot;display: none;&quot;&gt;
<br>// codemirror demo party!
<br>var obj = { text : &quot;Hello all!&quot;};
<br>console.log(&quot;HI THERE&quot;);
<br>&lt;/div&gt;
				</code>
			</p>
		</section>

		<section class="slide" id="textarea-code">
			<h2> HTML Syntax?! Sweet. </h2>
			<p>
			  Note that it's defined by being put inside a textarea, that way it doesn't
			  get evaluated. Replicate that however you see fit.
			  Also, set the mode="text/html", not just "html".
			</p>
			<div>
		  	<textarea type="text/html" class="code" mode="text/html" style="display: none;">// codemirror demo party!
          <html style="color: green">
            <head>
              <title>Mixed HTML Example</title>
              <style type="text/css">
                h1 {font-family: comic sans; color: #f0f;}
                div {background: yellow !important;}
                body {
                  max-width: 50em;
                  margin: 1em 2em 1em 5em;
                }
              </style>
            </head>
            <body>
              <h1>Mixed HTML Example</h1>
              <script>
                function jsFunc(arg1, arg2) {
                  if (arg1 && arg2) document.body.innerHTML = "achoo";
                }
              </script>
            </body>
          </html>
        </textarea>
      </div>
		</section>
    		
		<section class="slide" id="textarea-code">
			<h2> Two runnable code blocks?! CRAZY! </h2>
			<h3> First </h3>
			<div><textarea id="code2" name="code" class="code" mode="javascript" style="display: none;" runnable="true">// codemirror demo party!
console.log(1);</textarea></div>
			<h3> Second </h3>
			<div><textarea id="code3" name="code" class="code" mode="javascript" style="display: none;" runnable="true">// codemirror demo party!
console.log(2);</textarea></div>
		</section>

    <section class="slide" id="hidden-script-tags">
			<h2> Need to run some setup for your codes? </h2>
			<h3> Embed a secret hidden script tag like so in your slide: </h3>
			
			<script type="codemirror" data-selector="#code4">
			  var someVar = 10;
			</script>
			
      <code>
&lt;script type=&quot;codemirror&quot; data-selector=&quot;#code3&quot;&gt;<br/>
  var someVar = 10;<br/>
&lt;/script&gt;<br/>
  		</code>
  		
  		<h3> Then your code </h3>
			<div><textarea id="code4" name="code" class="code" mode="javascript" style="display: none;" runnable="true">// output my log
console.log(someVar);</textarea></div>
    </section>
    
    <section class="slide" id="cleanup-script-tags">
			<h2> Need to run some cleanup for your codes? </h2>
			<h3> Embed a secret hidden cleanup script tag like so in your slide: </h3>
			
			<script type="codemirror/cleanup" data-selector="#code4">
			  someVar = 12;
			  console.log(someVar);
			</script>
			
      <code>
&lt;script type=&quot;codemirror/cleanup&quot; data-selector=&quot;#code3&quot;&gt;<br/>
  someVar = 12;
  console.log(someVar);<br/>
&lt;/script&gt;<br/>
  		</code>
  		
  		<h3> Then your code </h3>
			<div><textarea id="code4" name="code" class="code" mode="javascript" style="display: none;" runnable="true">
// set some initial value
var someVar = 15;
</textarea></div>
    </section>

    <section class="slide" id="globals">
			<h2> Sometimes you need some globals </h2>
			<p> 
			  Sometimes you just need to access a global of some kind. The code in the codemirror 
			  editors is executed in a sandbox, which means whatever it is you load in your actual 
			  slides, is NOT going to be available by default.
			</p>
			<p>
        To give access to, for example, jQuery object, define a "globals" attribute on the code blocks with 
        the names of the vars you need.
      </p>
      
      <code>
&lt;textarea id=&quot;code4&quot; name=&quot;code&quot; class=&quot;code&quot; mode=&quot;javascript&quot; style=&quot;display: none;&quot; runnable=&quot;true&quot; globals=&quot;$&quot;&gt;<br />  // output my log
  console.log($(&#39;script&#39;).size());<br />&lt;/textarea&gt;<br />
      </code>
      <textarea id="code4" name="code" class="code" mode="javascript" style="display: none;" runnable="true" globals="$">// output my log
console.log($('script').size());</textarea>
		</section>
		
		<section class="slide" id="info">
			<h2> Repo: </h2>
			<a href="https://github.com/iros/deck.js-codemirror">https://github.com/iros/deck.js-codemirror</a>
			<h3> By: </h3>
			Irene Ros <br />
			<a href="http://ireneros.com">http://ireneros.com</a> <br />
			<a href="http://twitter.com/ireneros">@ireneros</a>
		</section>

    <section class="slide" id="textarea-code">
      <h2>JavaScript Overview - Type System</h2>
      <h4>In JavaScript, almost everything is an object.</br>
       Even primitive types, except null and undefined, are treated as objects.</h4></br>
      <table style="width: 400px;">
         <tr>
           <td>
            <h4>Primitive values</h4>
            <ul>
              <li><h4>Number</h4></li>
              <li><h4>String</h4></li>
              <li><h4>Boolean</h4></li>
              <li><h4>Null</h4></li>
              <li><h4>Undefined</h4></li>
            </ul>
           </td>
           <td>
            <h4>Objects</h4>
            <ul>
              <li><h4>Date</h4></li>
              <li><h4>Math</h4></li>
              <li><h4>Array</h4></li>
              <li><h4>Function</h4></li>
            </ul>
           </td>
         </tr>
       </table> 
    </section-->

    <form name="Tick">
      <input type="text" name="Clock" class="deck-status">
    </form>

		<p class="deck-status">
			<span class="deck-status-current"></span>
			/
			<span class="deck-status-total"></span>
		</p>

		<form action="." method="get" class="goto-form">
			<label for="goto-slide">Go to slide:</label>
			<input type="number" name="slidenum" id="goto-slide">
			<input type="submit" value="Go">
		</form>

		<a href="." title="Permalink to this slide" class="deck-permalink">#</a>
	</article>

	<script src="../lib/jquery-1.6.1.js"></script>

	<!-- Deck Core and extensions -->
	<script src="../lib/deck/js/deck.core.js"></script>
	<script src="../lib/deck/js/deck.menu.js"></script>
	<script src="../lib/deck/js/deck.goto.js"></script>
	<script src="../lib/deck/js/deck.status.js"></script>
	<script src="../lib/deck/js/deck.navigation.js"></script>
	<script src="../lib/deck/js/deck.hash.js"></script>
  
  <!-- include the base codemirror code. -->
  <script src="../lib/codemirror.js"></script>
	
	<!-- include the code syntax you want to highlight -->
  <script src="./mode/javascript/javascript.js"></script>

  <!-- html mode : note code miror requires xml, css and javasript modes for html rendering -->
  <script src="./mode/xml/xml.js"></script>
  <script src="./mode/css/css.js"></script>
  <script src="./mode/htmlmixed/htmlmixed.js"></script>
  <script src="../lib/deck/js/deck.codemirror.js"></script>
		
	<!-- Stuff specific to this page -->
	<script src="./js/main.js"></script>

</body>
</html>
